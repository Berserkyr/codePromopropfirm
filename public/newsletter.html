<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="utf-8">
        <meta name="keywords"
            content="Apex Trader Funding, Futures Trading, Futures Funding, Prop Firm, Funded Trader Program, ATF Trader, ATF Funded" />
        <meta name="description"
            content="Rejoignez les traders du Futures les plus performants avec Apex Trader Funding (ATF), la société de trading la plus simple et la plus transparente." />
        <title>Newsletter</title>
        <link href="css/header.css" rel="stylesheet">
        <link href="css/footer.css" rel="stylesheet">
        <link href="css/mail.css" rel="stylesheet">
        <link href="css/styles.css" rel="stylesheet">

        <script type="text/javascript">
        function googleTranslateElementInit() {
            new google.translate.TranslateElement({pageLanguage: 'fr', includedLanguages: 'en,es,de,it,fr'}, 'google_translate_element');
        }
    </script>
        <script type="text/javascript"
            src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
    </head>

    <body>

        <div id="header-container"></div>

        <div class="stars">
            <div class="star"></div>
            <div class="star"></div>
            <div class="star"></div>
            <div class="star"></div>
            <div class="star"></div>
            <div class="star"></div>
            <div class="star"></div>
            <div class="star"></div>
            <div class="star"></div>
            <div class="star"></div>
            <div class="star"></div>
            <div class="star"></div>
            <div class="star"></div>
            <div class="star"></div>
            <div class="star"></div>
            <div class="star"></div>
        </div>

        <main>

            <h1>Formulaire de Soumission</h1>
            <form id="newsletter-form" method="post">
                <label for="nom">Nom:</label>
                <input type="text" id="nom" name="nom" required><br><br>

                <label for="prenom">Prénom:</label>
                <input type="text" id="prenom" name="prenom" required><br><br>

                <label for="mail">Adresse e-mail:</label>
                <input type="email" id="mail" name="mail" required><br><br>

                <input type="submit" value="Soumettre">
            </form>

        </main>

        <script>
    document.getElementById('newsletter-form').addEventListener('submit', function(e) {
        e.preventDefault();
    
        const data = {
            nom: document.getElementById('nom').value,
            prenom: document.getElementById('prenom').value,
            mail: document.getElementById('mail').value
        };
        console.log(data)
        fetch('/api/newsletter/subscribe', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify(data)
        })
        .then(response => response.json())
        .then(data => {
            console.log('Success:', data);
            alert('Formulaire soumis avec succès!');
        })
        .catch((error) => {
            console.error('Erreur:', error);
            alert('Erreur lors de la soumission.');
        });
    });
    </script>

        <script src="js/script.js"></script>
        <div id="footer-container"></div>

    </body>

</html>